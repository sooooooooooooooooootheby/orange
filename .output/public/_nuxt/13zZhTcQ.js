import{bu as h,ap as p}from"#entry";function V(a){const e=h("",1e3);return{search:e,handleTypeaheadSearch:(u,d)=>{e.value=e.value+u;{const o=p(),c=d.map(t=>({...t,textValue:t.value?.textValue??t.ref.textContent?.trim()??""})),s=c.find(t=>t.ref===o),n=c.map(t=>t.textValue),i=m(n,e.value,s?.textValue),f=c.find(t=>t.textValue===i);return f&&f.ref.focus(),f?.ref}},resetTypeahead:()=>{e.value=""}}}function x(a,e){return a.map((r,l)=>a[(e+l)%a.length])}function m(a,e,r){const u=e.length>1&&Array.from(e).every(n=>n===e[0])?e[0]:e,d=r?a.indexOf(r):-1;let o=x(a,Math.max(d,0));u.length===1&&(o=o.filter(n=>n!==r));const s=o.find(n=>n.toLowerCase().startsWith(u.toLowerCase()));return s!==r?s:void 0}export{V as u};
