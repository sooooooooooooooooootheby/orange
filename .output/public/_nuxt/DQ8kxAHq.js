import{_ as b}from"./B_FaCh2c.js";import{C as k,H as w,d as _,I as n,J as r,h as a,F as z,K as B,e as t,g as H,t as d,L as C,f as g,w as i,A as c,M as T}from"#entry";import{h as v}from"./Bw0ZoFT5.js";import{h as A}from"./BlkUVR08.js";import{u as N}from"./BFL6zDSq.js";const V={key:1},$={class:"flex flex-col gap-2"},D={class:"border-default bg-default flex flex-col gap-2 rounded-lg border-1 p-3"},U={class:"flex gap-2"},F=["src"],I={class:"w-full overflow-hidden"},L={class:"text-lg font-bold"},S={class:"truncate text-sm text-gray-400 dark:text-gray-600"},E={class:"flex flex-col gap-1"},J={class:"flex gap-1"},K=["src"],M={class:"text-sm text-gray-400 dark:text-gray-600"},P={class:"mt-2 flex items-center gap-1"},W=k({__name:"index",async setup(j){let u,f;const{data:h,error:m}=([u,f]=w(()=>N("bans",()=>$fetch("/api/litebans/bans"))),u=await u,f(),u),p=(o,s)=>!(o||s!==0&&new Date().getTime()>s);return(o,s)=>{const y=b,x=C,l=T;return t(),_("div",null,[r(m)?(t(),n(y,{key:0,color:"error",variant:"soft",title:"封禁列表获取失败",description:r(m).message,icon:"gravity-ui:exclamation-shape"},null,8,["description"])):(t(),_("div",V,[a("div",$,[(t(!0),_(z,null,B(r(h)?.data,e=>(t(),_("div",{key:e.uuid+"-"+e.time},[a("div",D,[a("div",U,[a("img",{src:("handleHead"in o?o.handleHead:r(v))(e.name),alt:"item.name",class:"size-12"},null,8,F),a("div",I,[a("p",L,d(e.name),1),a("p",S,d(e.uuid),1)])]),H(x,{type:"dashed"}),a("div",E,[a("div",J,[a("img",{src:("handleHead"in o?o.handleHead:r(v))(e.banned_by_name),alt:"item.name",class:"size-6"},null,8,K),a("span",null,d(e.banned_by_name),1)]),a("p",M,d(e.reason),1),a("div",P,[e.until===0&&p(e.removed_by_date,e.until)?(t(),n(l,{key:0,icon:"gravity-ui:clock",size:"md",color:"error",variant:"soft",class:"rounded-full"},{default:i(()=>[...s[0]||(s[0]=[c(" 永久封禁 ",-1)])]),_:1})):e.removed_by_date?g("",!0):(t(),n(l,{key:1,icon:"gravity-ui:clock",size:"md",color:"success",variant:"soft",class:"rounded-full"},{default:i(()=>[c(d(("handleTime"in o?o.handleTime:r(A))(e.until)),1)]),_:2},1024)),p(e.removed_by_date,e.until)?(t(),n(l,{key:2,icon:"gravity-ui:ban",size:"md",color:"error",variant:"soft",class:"rounded-full"},{default:i(()=>[...s[1]||(s[1]=[c(" 封禁中 ",-1)])]),_:1})):(t(),n(l,{key:3,icon:"gravity-ui:circle-check",size:"md",color:"success",variant:"soft",class:"rounded-full"},{default:i(()=>[...s[2]||(s[2]=[c(" 已解封 ",-1)])]),_:1})),e.ipban.data[0]!==0?(t(),n(l,{key:4,color:"error",variant:"outline",size:"md",class:"rounded-full"},{default:i(()=>[...s[3]||(s[3]=[c("Ban IP",-1)])]),_:1})):g("",!0)])])])]))),128))])]))])}}});export{W as default};
